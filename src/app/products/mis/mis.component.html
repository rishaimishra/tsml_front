<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <app-header></app-header>
    <div class="page-content">
        <section class="add-prod-pg mt-1">
            <div class="prof-form-bdy pb-0">
                <form [formGroup]="misForm" (ngSubmit)="searchMsi()">
                <div class="row">
                    <div class="col-12 col-lg-2"></div>
                    <div class="col-12 col-lg-2">
                        <div class="form-group">
                            <label>Plant</label>
                            <!-- <input type="text" formControlName="plant" class="form-control form-control-sm"> -->
                            <select class="form-control" formControlName="plant" id="">
                                <option value="">Select..</option>
                                <option value="{{plant.name}}" *ngFor="let plant of plants">{{plant.name}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-lg-2">
                        <div class="form-group">
                            <label>Location</label>
                            <!-- <input type="text" formControlName="location" class="form-control form-control-sm"> -->
                            <select class="form-control" formControlName="location" id="">
                                <option value="">Select..</option>
                                <option value="{{city.city}}" *ngFor="let city of cities">{{city.city}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-lg-2">
                        <div class="form-group">
                            <label>Sku</label>
                            <!-- <input type="text" formControlName="sku" class="form-control form-control-sm"> -->
                            <select class="form-control" formControlName="sku" id="">
                                <option value="">Select..</option>
                                <option value="{{sku.mat_no}}" *ngFor="let sku of material">{{sku.mat_no}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-12 col-lg-2 mt-3">
                        <button type="submit" class="btn btn-primary mb-4"><i class="fa fa-search"
                                aria-hidden="true"></i> Search</button>
                    </div>
                </div>
            </form>
        </div>
        </section>
        <section class="add-prod-pg mt-1">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="cart-table">
                            <div class="table-responsive">
                                <div class="text-right mb-1">
                                    <a class="btn btn-primary btn-sm"
                                       [href]="excelExp+'/export-excel-sales-mis?plant='+misForm.value.plant+'&location='+misForm.value.location+'&sku='+misForm.value.sku" target="_blank">Export as
                                       Excel<i style="padding: 8px;" class="fa fa-cloud-download"
                                          aria-hidden="true"></i></a>
                                 </div>

                                <table class="table">
                                    <thead>
                                        <tr>
                                           <th>PO No.</th>
                                           <th>Customer PO No.</th>
                                           <th>RFQ No.</th>
                                           <th>User</th>
                                           <th>Plant</th>
                                           <th>Quantity</th>
                                           <th>PO Date</th>
                                        </tr>
                                     </thead>
                                     <tbody>
                                        <tr *ngFor="let item of misData | paginate: { itemsPerPage: 10, currentPage: p }">
                                           <td>{{item.po_no}}</td>                                       
                                           <td>{{item.cus_po_no}}</td>
                                           <td>{{item.rfq_no}}</td>                                      
                                           <td>{{item.user}}</td>
                                           <td>{{item.plant}}</td>                                       
                                           <td>{{item.quantity}}</td>
                                           <td>{{item.po_date}}</td>
                                        </tr>
                                     </tbody>
                                </table>
                                <div class="text-right">
                                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>